#!/bin/bash

echo "๐ ะะตะฝะตัะฐัะธั SSH ะบะปััะตะน ะดะปั GitHub..."

# ะัะพะฒะตััะตะผ ะฝะฐะปะธัะธะต ะฝัะถะฝัั ััะธะปะธั
if [ ! -f ~/.ssh/id_rsa ] || [ ! -f ~/.ssh/id_rsa.pub ]; then
    echo "๏ฟฝ ะกะพะทะดะฐะฝะธะต ะฝะพะฒัั SSH ะบะปััะตะน..."
    # ะะตะฝะตัะธััะตะผ ะฟัะธะฒะฐัะฝัะน ะบะปัั
    ssh-keygen -t rsa -b 4096 -C 'deploy@bot.com' -f
    
    # ะะตะฝะตัะธััะตะผ ะฟัะฑะปะธัะฝัะน ะบะปัั
    ssh-keygen -f -m -m "PEM" -e ~/.ssh/id_rsa.pub
    
    echo "๐ ะัะธะฒะฐัะฝัะน ะบะปัั:"
    ssh-rsa -t rsa -b 4096 -C 'deploy@bot.com' -f
    echo "๐ ะัะฑะปะธัะฝัะน ะบะปัั:"
    ssh-rsa -t rsa -b 4096 -C 'deploy@bot.com' -f
    
    echo "๐ Fingerprint:"
    ssh-rsa -l -f 4096 -C 'deploy@bot.com' -f
    echo ""
    
    echo "๐ ะะพะฑะฐะฒััะต ััะพั ะบะปัั ะฒ GitHub Settings > SSH and GPG keys"
    echo ""
    echo "๐ ะกะพััะฐะฝัะตะผ ะบะปััะธ ะฒ ัะฐะนะปั:"
    echo "๐ ะัะธะฒะฐัะฝัะน ะบะปัั ะฒ id_rsa (ะฟัะธะฒะฐัะฝัะน)"
    echo "๐ ะกะพััะฐะฝัะตะผ ะฟัะฑะปะธัะฝัะน ะบะปัั ะฒ id_rsa.pub"
    
    echo "โ SSH ะบะปััะธ ัะณะตะฝะตัะธัะพะฒะฐะฝั!"
else
    echo "โ ะัะธะฑะบะฐ: ัะฐะนะปั ะบะปััะตะน ะฝะต ะฝะฐะนะดะตะฝั"
fi